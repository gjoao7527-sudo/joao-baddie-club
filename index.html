<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Treino BJ</title>
<link href="https://fonts.googleapis.com/css2?family=SF+Pro+Display:wght@400;600;700&display=swap" rel="stylesheet">
<style>

body{
margin:0;
font-family:'SF Pro Display', sans-serif;
background:#0f0f0f;
color:white;
}

h1{
text-align:center;
font-weight:700;
margin-top:20px;
}

.container{
padding:20px;
max-width:500px;
margin:auto;
}

.card{
background:#1c1c1e;
padding:20px;
border-radius:25px;
margin-bottom:20px;
box-shadow:0 8px 20px rgba(0,0,0,0.4);
}

.day{
padding:15px;
border-radius:18px;
margin-bottom:10px;
background:#2c2c2e;
cursor:pointer;
transition:0.3s;
}

.day:hover{
background:#3a3a3c;
}

.exercise{
display:flex;
justify-content:space-between;
align-items:center;
margin:8px 0;
}

.done{
opacity:0.5;
}

.progress-bar{
height:8px;
background:#2c2c2e;
border-radius:10px;
overflow:hidden;
margin-top:10px;
}

.progress{
height:100%;
background:linear-gradient(90deg,#ff375f,#ff9f0a);
width:0%;
transition:0.4s;
}

button{
background:#ff375f;
border:none;
padding:10px;
border-radius:12px;
color:white;
cursor:pointer;
margin-top:10px;
width:100%;
}

input{
width:100%;
padding:10px;
border-radius:12px;
border:none;
margin-bottom:10px;
}

.badge{
background:#ff9f0a;
padding:8px;
border-radius:15px;
margin-top:10px;
display:inline-block;
font-size:14px;
}

.hidden{
display:none;
}

</style>
</head>
<body>

<h1>Treino BJ</h1>

<div class="container">

<!-- LOGIN -->
<div id="loginCard" class="card">
<h3>Login</h3>
<select id="userSelect">
<option value="joao">Jo√£o</option>
<option value="beatriz">Beatriz</option>
</select>
<input type="password" id="password" placeholder="Senha">
<button onclick="login()">Entrar</button>
<p id="loginErro"></p>
</div>

<!-- APP -->
<div id="app" class="hidden">

<div class="card">
<h3>Estat√≠sticas</h3>
<p id="stats"></p>
<p id="streak"></p>
<div id="badgeArea"></div>

<h4>Hist√≥rico</h4>
<div id="historicoLista"></div>

<h4>Meta Personalizada</h4>
<input type="number" id="metaInput" placeholder="Treinos por semana">
<button onclick="salvarMeta()">Salvar Meta</button>
<p id="metaStatus"></p>

</div>

<div class="card">
<h3>Treinos</h3>
<div id="dias"></div>
</div>

<div class="card hidden" id="treinoBox">
<h3 id="treinoTitulo"></h3>
<div id="exercicios"></div>
<div class="progress-bar">
<div class="progress" id="barra"></div>
</div>
<button onclick="finalizarTreino()">Finalizar Treino</button>
</div>

</div>
</div>

<script>

const senhas={
joao:"1234",
beatriz:"1234"
};

let usuario=null;
let progresso={};
let historico={};
let metaPersonalizada=5;

function login(){
let user=document.getElementById("userSelect").value;
let pass=document.getElementById("password").value;

if(pass===senhas[user]){
usuario=user;
document.getElementById("loginCard").classList.add("hidden");
document.getElementById("app").classList.remove("hidden");
carregarDados();
}else{
document.getElementById("loginErro").innerText="Senha incorreta";
}
}

function carregarDados(){
progresso=JSON.parse(localStorage.getItem(usuario+"_progresso"))||{};
historico=JSON.parse(localStorage.getItem(usuario+"_historico"))||{};
metaPersonalizada=localStorage.getItem(usuario+"_meta")||5;
criarDias();
atualizarStats();
}

const treinos={
"Segunda":{rep:"4x 8‚Äì12",ex:["Eleva√ß√£o p√©lvica","Eleva√ß√£o p√©lvica unilateral","Cadeira abdutora","Gl√∫teo no cabo","Afundo no smith"],cardio:"15‚Äì20 min caminhada na esteira"},
"Ter√ßa":{rep:"3‚Äì4x 10‚Äì12",ex:["Puxada frontal","Remada baixa","Remada unilateral","Rosca direta","Rosca alternada","Rosca martelo"],cardio:"15 min HIIT"},
"Quarta":{rep:"4x 8‚Äì12",ex:["Stiff","Mesa flexora","Passada","Gl√∫teo 4 apoios","Eleva√ß√£o p√©lvica","Cadeira abdutora"],cardio:"15‚Äì20 min caminhada"},
"Quinta":{rep:"3x 12‚Äì15",ex:["Eleva√ß√£o lateral","Desenvolvimento","Eleva√ß√£o frontal","Face pull","Crucifixo inverso","Remada alta"],cardio:"15 min leve"},
"Sexta":{rep:"4x 8‚Äì12",ex:["Agachamento","Leg press","Cadeira extensora","Afundo b√∫lgaro","Agachamento sum√¥","Cadeira abdutora"],cardio:"15‚Äì20 min caminhada"},
"S√°bado":{rep:"3x 10‚Äì12",ex:["Puxada frontal","Remada baixa","Eleva√ß√£o lateral","Rosca direta","Tr√≠ceps corda","Desenvolvimento","Prancha","Abdominal infra"],cardio:"10‚Äì15 min leve"},
"Domingo":{rep:"Cardio livre",ex:["Caminhada ou corrida leve"],cardio:"30‚Äì40 min caminhada ou 20+10 corrida"}
};

function criarDias(){
let diasDiv=document.getElementById("dias");
diasDiv.innerHTML="";
Object.keys(treinos).forEach(d=>{
let div=document.createElement("div");
div.className="day";
div.innerText=d;
div.onclick=()=>abrirTreino(d);
diasDiv.appendChild(div);
});
}

function abrirTreino(dia){
document.getElementById("treinoBox").classList.remove("hidden");
document.getElementById("treinoTitulo").innerText=dia+" ‚Äî "+treinos[dia].rep;
let box=document.getElementById("exercicios");
box.innerHTML="";
let total=treinos[dia].ex.length+1;

treinos[dia].ex.forEach((ex,i)=>{
let id=dia+"-"+i;
let checked=progresso[id]?"checked":"";
let done=progresso[id]?"done":"";
box.innerHTML+=`<div class="exercise ${done}">
<span>${ex}</span>
<input type="checkbox" ${checked}
onchange="marcar('${id}','${dia}',${total})">
</div>`;
});

let cardioId=dia+"-cardio";
let cardioChecked=progresso[cardioId]?"checked":"";
let cardioDone=progresso[cardioId]?"done":"";
box.innerHTML+=`<div class="exercise ${cardioDone}">
<span><strong>Cardio:</strong> ${treinos[dia].cardio}</span>
<input type="checkbox" ${cardioChecked}
onchange="marcar('${cardioId}','${dia}',${total})">
</div>`;

atualizarBarra(dia,total);
}

function marcar(id,dia,total){
if(progresso[id]) delete progresso[id];
else progresso[id]=true;

localStorage.setItem(usuario+"_progresso",JSON.stringify(progresso));
atualizarBarra(dia,total);
}

function atualizarBarra(dia,total){
let feitos=Object.keys(progresso).filter(k=>k.startsWith(dia)).length;
let porcent=(feitos/total)*100;
document.getElementById("barra").style.width=porcent+"%";

if(feitos>=total){
document.querySelectorAll(".day").forEach(el=>{
if(el.innerText===dia){
el.style.background="#1e3a2f";
}
});
}
}

function finalizarTreino(){
let hoje=new Date().toLocaleDateString();
historico[hoje]=true;
localStorage.setItem(usuario+"_historico",JSON.stringify(historico));
atualizarStats();
alert("Treino finalizado üî•");
}

function atualizarStats(){
let total=Object.keys(historico).length;
document.getElementById("stats").innerText="Treinos conclu√≠dos: "+total;

let streak=calcularStreak();
document.getElementById("streak").innerText="Streak: "+streak+" dias";

if(streak>=5){
document.getElementById("badgeArea").innerHTML='<div class="badge">üèÜ 5 Dias Seguidos</div>';
}

let lista=document.getElementById("historicoLista");
lista.innerHTML="";
Object.keys(historico).forEach(d=>{
lista.innerHTML+="<div>"+d+" ‚úîÔ∏è</div>";
});

verificarMeta();
}

function calcularStreak(){
let dias=Object.keys(historico).sort((a,b)=>new Date(b)-new Date(a));
let streak=0;
let hoje=new Date();
for(let i=0;i<dias.length;i++){
let data=new Date(dias[i]);
let diff=(hoje-data)/(1000*60*60*24);
if(Math.floor(diff)===i) streak++;
}
return streak;
}

function salvarMeta(){
metaPersonalizada=document.getElementById("metaInput").value;
localStorage.setItem(usuario+"_meta",metaPersonalizada);
verificarMeta();
}

function verificarMeta(){
let total=Object.keys(historico).length;
document.getElementById("metaStatus").innerText="Meta: "+total+"/"+metaPersonalizada;
if(total>=metaPersonalizada){
document.getElementById("badgeArea").innerHTML+='<div class="badge">üéØ Meta Batida</div>';
}
}

</script>

</body>
</html>
