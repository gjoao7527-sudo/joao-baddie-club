<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>JoÃ£o Baddie Club</title>
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#ff2e93"/>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
body {
  margin:0;
  font-family: Arial;
  background: linear-gradient(180deg,#0f0f0f,#1a001f);
  color:white;
  padding:20px;
}

h1 {
  text-align:center;
  color:#ff2e93;
}

.section {
  background:#1c1c1c;
  padding:15px;
  border-radius:15px;
  margin-bottom:20px;
  box-shadow:0 0 15px #ff2e93;
}

button {
  background:#ff2e93;
  border:none;
  padding:8px 12px;
  border-radius:10px;
  color:white;
  cursor:pointer;
  margin:5px 0;
}

.day {
  padding:8px;
  margin:5px 0;
  background:#2a2a2a;
  border-radius:8px;
  cursor:pointer;
}

.done { background:#28a745 !important; }

input {
  padding:6px;
  border-radius:8px;
  border:none;
}
</style>
</head>

<body>

<h1>ğŸ’…ğŸ½ JoÃ£o Baddie Club</h1>

<div class="section">
<h2>ğŸ¯ Meta -35kg</h2>
Peso atual: <input type="number" id="peso">
<button onclick="salvarPeso()">Salvar Peso</button>
<canvas id="grafico"></canvas>
</div>

<div class="section">
<h2>ğŸ“… CalendÃ¡rio</h2>
<div class="day" onclick="toggleDay(this,'seg')">Segunda â€“ GlÃºteo</div>
<div class="day" onclick="toggleDay(this,'ter')">TerÃ§a â€“ Costas + BÃ­ceps</div>
<div class="day" onclick="toggleDay(this,'qua')">Quarta â€“ Posterior + GlÃºteo</div>
<div class="day" onclick="toggleDay(this,'qui')">Quinta â€“ Ombro + Postura</div>
<div class="day" onclick="toggleDay(this,'sex')">Sexta â€“ QuadrÃ­ceps + GlÃºteo</div>
</div>

<div class="section">
<h2>â±ï¸ Timer de Descanso</h2>
<button onclick="timer(60)">60s</button>
<button onclick="timer(90)">90s</button>
<p id="contador"></p>
</div>

<div class="section">
<h2>ğŸ“ˆ Registrar Carga</h2>
ExercÃ­cio: <input type="text" id="exercicio">
Peso (kg): <input type="number" id="carga">
<button onclick="salvarCarga()">Salvar</button>
<p id="listaCargas"></p>
</div>

<script>
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('service-worker.js');
}

let pesos = JSON.parse(localStorage.getItem("pesos")) || [];

function salvarPeso(){
  let peso = document.getElementById("peso").value;
  let data = new Date().toLocaleDateString();
  pesos.push({data,peso});
  localStorage.setItem("pesos", JSON.stringify(pesos));
  atualizarGrafico();
}

function atualizarGrafico(){
  let ctx = document.getElementById('grafico');
  new Chart(ctx,{
    type:'line',
    data:{
      labels:pesos.map(p=>p.data),
      datasets:[{
        label:'EvoluÃ§Ã£o de Peso',
        data:pesos.map(p=>p.peso),
        borderColor:'#ff2e93'
      }]
    }
  });
}

function toggleDay(element,key){
  element.classList.toggle("done");
  localStorage.setItem(key, element.classList.contains("done"));
}

function timer(seg){
  let tempo = seg;
  let contador = document.getElementById("contador");
  let intervalo = setInterval(()=>{
    contador.innerText = tempo + "s";
    tempo--;
    if(tempo<0){
      clearInterval(intervalo);
      contador.innerText = "Descanso finalizado ğŸ’…ğŸ½ğŸ”¥";
    }
  },1000);
}

function salvarCarga(){
  let ex = document.getElementById("exercicio").value;
  let kg = document.getElementById("carga").value;
  let registro = ex + " - " + kg + "kg";
  document.getElementById("listaCargas").innerHTML += registro + "<br>";
}
</script>

</body>
</html>
